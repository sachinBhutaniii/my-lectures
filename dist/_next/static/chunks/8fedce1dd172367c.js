(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,s,t)=>{s.exports=e.r(76562)},79886,e=>{"use strict";var s=e.i(43476),t=e.i(71645),r=e.i(37393),a=e.i(48033);let l=()=>(0,s.jsxs)("div",{className:"w-full max-w-sm",children:[(0,s.jsx)("div",{className:"h-2 overflow-hidden rounded-full bg-gray-200",children:(0,s.jsx)("div",{className:"h-full w-[80%] animate-pulse bg-amber-600"})}),(0,s.jsx)("p",{className:"mt-4 text-center font-medium text-gray-700",children:"Loading..."})]});var i=e.i(18566);let o=({video:e,onEdit:t})=>{let r=(0,i.useRouter)();return(0,s.jsxs)("article",{onClick:()=>{r.push(`/${e.id}`)},className:"relative cursor-pointer overflow-hidden rounded-lg shadow-sm transition hover:shadow-lg h-full group bg-white flex flex-col",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{alt:e.title,src:e.thumbnailUrl,className:"h-56 w-full object-cover p-2 rounded-lg"}),(0,s.jsx)("button",{onClick:s=>{s.stopPropagation(),t(e)},className:"absolute top-4 right-4 bg-white/90 text-amber-600 p-2 rounded-full shadow-md hover:bg-amber-600 hover:text-white transition-colors cursor-pointer",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})})})]}),(0,s.jsx)("div",{className:"bg-white p-4 sm:p-6 flex-1",children:(0,s.jsx)("a",{href:"#",children:(0,s.jsx)("h3",{className:"mt-0.5 text-lg text-amber-500 font-medium",children:e.title})})})]})},d=({initialData:e,onSubmit:r,onCancel:a,isLoading:l})=>{let[i,o]=(0,t.useState)({title:"",videoUrl:"",thumbnailUrl:"",transcript:"",transcriptSrt:"",key:"",date:new Date().toISOString().split("T")[0],speaker:"",place:{city:"",country:""},category:[]}),[d,n]=(0,t.useState)("");(0,t.useEffect)(()=>{e&&(o({title:e.title||"",videoUrl:e.videoUrl||"",thumbnailUrl:e.thumbnailUrl||"",transcript:e.transcript||"",transcriptSrt:e.transcriptSrt||"",key:e.key||"",date:e.date||new Date().toISOString().split("T")[0],speaker:e.speaker||"",place:e.place||{city:"",country:""},category:e.category||[]}),n(e.category?.join(", ")||""))},[e]);let m=e=>{let{name:s,value:t}=e.target;o(e=>({...e,[s]:t}))},c=e=>{let{name:s,value:t}=e.target;o(e=>({...e,place:{...e.place||{city:"",country:""},[s]:t}}))};return(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r(i)},className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),(0,s.jsx)("input",{type:"text",name:"title",required:!0,value:i.title,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 sm:text-sm border p-2"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Video URL"}),(0,s.jsx)("input",{type:"text",name:"videoUrl",required:!0,value:i.videoUrl,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 sm:text-sm border p-2"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Thumbnail URL"}),(0,s.jsx)("input",{type:"text",name:"thumbnailUrl",required:!0,value:i.thumbnailUrl,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 sm:text-sm border p-2"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Speaker"}),(0,s.jsx)("input",{type:"text",name:"speaker",value:i.speaker,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 sm:text-sm border p-2"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),(0,s.jsx)("input",{type:"date",name:"date",value:i.date,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 sm:text-sm border p-2"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),(0,s.jsx)("input",{type:"text",name:"city",value:i.place?.city||"",onChange:c,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 sm:text-sm border p-2"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Country"}),(0,s.jsx)("input",{type:"text",name:"country",value:i.place?.country||"",onChange:c,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 sm:text-sm border p-2"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Transcript"}),(0,s.jsx)("textarea",{name:"transcript",rows:3,value:i.transcript,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 sm:text-sm border p-2"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Transcript SRT"}),(0,s.jsx)("textarea",{name:"transcriptSrt",rows:2,value:i.transcriptSrt,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 sm:text-sm border p-2"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Key (SKU)"}),(0,s.jsx)("input",{type:"text",name:"key",value:i.key,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 sm:text-sm border p-2"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Categories (comma separated)"}),(0,s.jsx)("input",{type:"text",value:d,onChange:e=>{n(e.target.value),o(s=>({...s,category:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)}))},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 sm:text-sm border p-2"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,s.jsx)("button",{type:"button",onClick:a,disabled:l,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 cursor-pointer",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:l,className:"rounded-md border border-transparent bg-amber-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 disabled:opacity-50 cursor-pointer",children:l?"Saving...":"Save Video"})]})]})};e.s(["default",0,()=>{let{data:e,loading:i,error:n,setData:m}=(0,r.useFetch)(a.getVideos),[c,u]=(0,t.useState)(!1),[x,b]=(0,t.useState)(null),[h,g]=(0,t.useState)(!1),p=e=>{b(e),u(!0)},f=()=>{u(!1),b(null)},v=async s=>{g(!0);try{if(x){let t=await (0,a.updateVideo)(x.id,s);if(e){let s=e.videos.map(e=>e.id===x.id?t:e);m({...e,videos:s})}}else{let t=await (0,a.createVideo)(s);e&&m({...e,videos:[...e.videos,t],totalVideos:e.totalVideos+1})}f()}catch(e){console.error("Failed to save video:",e),alert("Failed to save video. Please try again.")}finally{g(!1)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-gray-800",children:"Manage Videos"}),(0,s.jsx)("button",{onClick:()=>{b(null),u(!0)},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-amber-600 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 cursor-pointer",children:"Add New Video"})]}),i&&(0,s.jsx)("div",{className:"flex justify-center items-center",children:(0,s.jsx)(l,{})}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-6 mb-16",children:[e&&e?.totalVideos>0&&e?.videos?.map(e=>(0,s.jsx)("div",{className:"flex-shrink-0 w-full sm:w-[calc(50%-12px)] lg:w-[calc(33.333%-16px)]",children:(0,s.jsx)(o,{video:e,onEdit:p})},e.id)),!i&&e?.videos?.length===0&&(0,s.jsx)("p",{className:"text-gray-500",children:'No videos found. Click "Add New Video" to create one.'})]}),c&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:(0,s.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:f}),(0,s.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"â€‹"}),(0,s.jsxs)("div",{className:"relative z-50 inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full sm:p-6",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 pt-4 pr-4",children:(0,s.jsxs)("button",{onClick:f,type:"button",className:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 cursor-pointer",children:[(0,s.jsx)("span",{className:"sr-only",children:"Close"}),(0,s.jsx)("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})}),(0,s.jsx)("div",{className:"sm:flex sm:items-start w-full",children:(0,s.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[(0,s.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:x?"Edit Video":"Add New Video"}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(d,{initialData:x||void 0,onSubmit:v,onCancel:f,isLoading:h})})]})})]})]})})]})}],79886)}]);